# !!! generated by puppet !!!
# mongod.conf

---
storage:
  dbPath: <%= scope.lookupvar('mongodb::dbdir') %>/mongod_<%= @mongod_instance %>
  journal:
    enabled: true
  engine: <%= @mongod_engine %>

processManagement:
  fork: <%= @mongod_fork %>
  pidFilePath: <%= scope.lookupvar('mongodb::pidfilepath') %>/mongod_<%= @mongod_instance %>/mongod.pid

systemLog:
  destination: file
  logAppend: <%= @mongod_logappend %>
  path: <%= scope.lookupvar('mongodb::logdir') %>/mongod_<%= @mongod_instance %>.log

net:
  port: <%= @mongod_port %>
  <%- if @mongod_bind_ip != "" -%>
  bindIp: <%= @mongod_bind_ip %>
  <%- end -%>
  <%- if @mongod_rest != false -%>
  http:
    enabled: <%= @mongod_rest %>
    RESTInterfaceEnabled: <%= @mongod_rest %>
  <%- end -%>

<%- if @mongod_useauth != false or @mongod_auth != false -%>
security:
<%- end -%>
  <%- if @mongod_useauth != false -%>
  keyFile: /etc/mongod_<%= @mongod_instance %>.key
  <%- end -%>
  <%- if @mongod_auth != false -%>
  authorization: <%= @mongod_auth %>
  <%- end -%>
