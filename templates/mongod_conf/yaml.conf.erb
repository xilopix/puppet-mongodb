# !!! generated by puppet !!!
# mongod.conf

---
storage:
  dbPath: <%= scope.lookupvar('mongodb::dbdir') %>/mongod_<%= @server %>
  journal:
    enabled: true
  engine: <%= @engine %>

processManagement:
  fork: <%= @fork %>
  pidFilePath: <%= scope.lookupvar('mongodb::pidfilepath') %>/mongod_<%= @server %>/mongod.pid

systemLog:
  destination: file
  logAppend: <%= @logappend %>
  path: <%= scope.lookupvar('mongodb::logdir') %>/mongod_<%= @server %>.log

net:
  port: <%= @port %>
  <%- if @bind_ip != "" -%>
  bindIp: <%= @bind_ip %>
  <%- end -%>
  <%- if @rest != false -%>
  http:
    enabled: <%= @rest %>
    RESTInterfaceEnabled: <%= @rest %>
  <%- end -%>

<%- if @useauth != false or @auth != false -%>
security:
<%- end -%>
  <%- if @useauth != false -%>
  keyFile: /etc/mongod_<%= @server %>.key
  <%- end -%>
  <%- if @auth != false -%>
  authorization: <%= @auth %>
  <%- end -%>

<%- if @replicaset != "" -%>
replication:
<%- end -%>
  <%- if @replicaset != "" -%>
  replSetName: <%= @replicaset %>
  <%- end -%>

sharding:
  archiveMovedChunks: false